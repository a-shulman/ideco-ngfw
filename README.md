# Инструкция по переносу документации в Diplodoc

1\. Скачайте этот скрипт и разместите его в той же папке, где находится папка docsUTM.

2\. Откройте командную строку и перейдите в директорию со скриптом командой `cd <путь до директории со скриптом>`.

3\. Запустите скрипт командой `python3 main.py`.

4\. Скрипт сгенерирует папку Diplodoc, в которой будет четыре папки:

* ngfw - папка с контентом об Ideco NGFW;
* settings-cc - папка с контентом об Ideco Center;
* settings-my папка с контентом о MY.IDECO;
* _images - папка с изображениями.

5\. Склонируйте репозиторий с новым сайтом https://github.com/a-shulman/ideco-ngfw (пока этот, потом все перенесем в стэш) и перейдите на новую ветку.

6\. Перейдите в папку `ru` и удалите папки `ngfw`, `settings-cc`, `settings-my`, `_images`.

7\. Перенесите сгенерированные скриптом папки `ngfw`, `settings-cc`, `settings-my`, `_images` в папку `ru`.

8\. С помощью поиска найдите в проекте вкладки: они обозначаются тегами `{% list tabs %}`. Заголовок каждой вкладки отбивается дефисом:

```
{% list tabs %}

- Основное
```

9\. Перенесите текст каждой вкладки на один таб, чтобы получилось:

```
{% list tabs %}

- Общее

    ![](../../../_images/traffic-log.png)
    
    * **Дата и время** - дата и время срабатывания правила;
    * **Результат проверки** - совокупный результат проверки трафика тремя модулями фильтрации: **Файрвол**, **IPS**, **DPI**.

- Файрвол

    ![](../../../_images/traffic-log1.png)
    
    * **ID правила** - идентификатор правила **Файрвола** в таблице;
    * **Таблица правил** - таблица **Файрвола**, правило котрой сработало (правила DNAT и SNAT отображаются в отдельных столбцах):
        * **FORWARD** - таблица FORWARD **Файрвола** Ideco NGFW;
        * **FORWARD BEFORE** - предправило FORWARD Ideco Center;
        * **FORWARD AFTER** - постправило FORWARD Ideco Center;
        * **FORWARD SYSTEM** - системное правило FORWARD;
        * **INPUT** - таблица INPUT **Файрвола** Ideco NGFW;
        * **INPUT BEFORE** - предправило INPUT Ideco Center;
        * **INPUT AFTER** - постправило INPUT Ideco Center;
        * **INPUT SYSTEM** - системное правило INPUT.
    * **Действие правила** - действие, определенное для трафика, подпадающего под сработавшее правило. Возможные действия: Разрешить, Запретить, Перенаправить в профиль. Для правил DNAT и SNAT действие отсутствует;
    * **Протокол** - протокол соединения.

- Предотвращение вторжений

    ![](../../../_images/traffic-log2.png)
    
    * **Профиль** - название профиля **Предотвращения вторжений**, использованного в правиле **Файрвола**;
    * **Действие** - действие для трафика, определенное профилем (*Разрешить*, *Запретить*, *-*);
    * **ID соединения** - идентификатор соединения, трафик которого был обработан **Предотвращением вторжений**. Нажмите на значение, чтобы перейти к разделу **События безопасности -> [Журнал IPS](../../../ngfw/settings/reports/security-events.md#журнал-ips)** ;
    * **ID сигнатуры** - идентификатор сигнатуры, которой соответствует трафик.

- Контроль приложений

    ![](../../../_images/traffic-log3.png)
    
    * **Профиль** - название профиля **Контроля приложений**, использованного в правиле **Файрвола**;
    * **Действие** - действие для трафика, определенное профилем;
    * **Приложение** - приложение, действие для которого определено профилем;
    * **Протокол прикладного уровня** - протокол, к которому применяется действие, определенное профилем.

{% endlist %}
```

10\. Запустите сборку документации командой `npm run build:docs`.

11\. Вручную исправьте ошибки, выявленные при сборке.

11\. Запушьте изменения. В репозитории перейдите на вкладку Actions, проверьте, что сборка и релиз проходят.






